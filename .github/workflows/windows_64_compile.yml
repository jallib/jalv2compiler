name: 'Windows Compile 64-bit'

# Compile the JAL 64-bit compiler for Windows save the produced executable
# Author: Rob Jansen, copyright (c) 2023..2023, all rights reserverd

on: workflow_dispatch
jobs:
  build:
    runs-on: windows-2019
    steps:
       - uses: actions/checkout@v3
       - name: Build for Windows
         shell: cmd
         run:
           echo ${{ github.workspace }}
           cd  ${{ github.workspace }}\src
           cmd /c "make_64.bat"

       - name: Upload binary
         uses: actions/upload-artifact@v3
         with: 
           name: jalv2_64.exe
           path: ${{ github.workspace }}\bin
  
